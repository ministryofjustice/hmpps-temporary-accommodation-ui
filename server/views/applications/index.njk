{% from "govuk/components/tabs/macro.njk" import govukTabs %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/tag/macro.njk" import govukTag %}
{% from "moj/components/badge/macro.njk" import mojBadge %}
{% from "./_table.njk" import applicationsTable %}
{% extends "../partials/layout.njk" %}

{% set pageTitle = "Transitional Accommodation (CAS3) referrals - " + applicationName %}
{% set mainClasses = "app-container govuk-body" %}

{% block content %}

{% include "../_messages.njk" %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

      <h1 class="govuk-heading-l">Transitional Accommodation (CAS3) referrals</h1>

      {{ govukTabs({
        items: [
          {
            label: "In Progress",
            id: "in-progress",
            panel: {
              html: applicationsTable("Referrals", dashboardTableRows(applications.inProgress))
            }
          },
          {
            label: "Submitted",
            id: "applications-submitted",
            panel: {
              html: applicationsTable("Referrals", dashboardTableRows(applications.submitted), true)
            }
          }
        ]
      }) }}

    </div>

    <div class="govuk-grid-column-two-thirds">
      <h2 class="govuk-heading-m">Start a new referral</h2>
      <p class="govuk-body">Start a new referral for Transitional Accommodation (CAS3) below.</p>

      {{ govukButton({
        text: "Start now",
        href: paths.applications.start()
      }) }}
    </div>
  </div>
</div>
{% endblock %}
